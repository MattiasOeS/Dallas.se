# Compile stylesheets using compass
guard 'compass', :configuration_file => "config/compass.rb" do
  watch(/^www\/assets\/sass\/(.*)\.scss/)
end

# Compile javascripts using coffeescript
guard 'process', :name => 'Combine Javascript from CoffeeScript', :command => 'coffee -cbj www/assets/javascripts/application.js www/assets/coffeescripts/' do
  watch %r{www/assets/coffeescripts/.+\.coffee}
end


# Compress stylesheets using Juicer
# guard 'process', :name => 'Minify CSS', :command => 'juicer merge www/assets/stylesheets/application.css --force -c none' do
#   watch %r{www/assets/stylesheets/application\.css}
# end

# Compress javscripts using Jucier
guard 'process', :name => 'Minify application javascript', :command => 'juicer merge www/assets/javascripts/application.js --force -s' do
  watch %r{www/assets/javascripts/application\.js}
end

# Watch for modifications in application.css and application.js 
# and reload the browser if so
# guard 'livereload', :apply_js_live => true, :apply_css_live => true do
#   watch(%r{www/assets/stylesheets/application\.css})
#   watch(%r{www/assets/javascripts/application\.js})
# end
